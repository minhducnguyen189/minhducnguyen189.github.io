<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- bootstrap library and JS, Jquery -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Pagination With JPA In String Boot | StepByStep</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Pagination With JPA In String Boot" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In this post we will learn how to use Spring Data JPA to handle pagination and sorting Data." />
<meta property="og:description" content="In this post we will learn how to use Spring Data JPA to handle pagination and sorting Data." />
<link rel="canonical" href="/jekyll/update/2021/04/03/java-springboot-pagination-with-jpa.html" />
<meta property="og:url" content="/jekyll/update/2021/04/03/java-springboot-pagination-with-jpa.html" />
<meta property="og:site_name" content="StepByStep" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-03T00:00:00+07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Pagination With JPA In String Boot" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Pagination With JPA In String Boot","dateModified":"2021-04-03T00:00:00+07:00","datePublished":"2021-04-03T00:00:00+07:00","url":"/jekyll/update/2021/04/03/java-springboot-pagination-with-jpa.html","mainEntityOfPage":{"@type":"WebPage","@id":"/jekyll/update/2021/04/03/java-springboot-pagination-with-jpa.html"},"description":"In this post we will learn how to use Spring Data JPA to handle pagination and sorting Data.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="StepByStep" /></head><body>
  <div class="container-flush">
    <div class="row"><!-- navigation bar -->
<div class="col-lg-12">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark" role="banner"><a class="navbar-brand site-title" rel="author" href="">StepByStep</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="nav navbar-nav"><li class="nav-item active">
          <a class="nav-link" href="/about/">About</a>
        </li><li class="nav-item active">
          <a class="nav-link" href="/database/">Database</a>
        </li><li class="nav-item active">
          <a class="nav-link" href="/docker/">Docker</a>
        </li><li class="nav-item active">
          <a class="nav-link" href="/">Java</a>
        </li><li class="nav-item active">
          <a class="nav-link" href="/python/">Python</a>
        </li></ul>
    </div><!-- Html Elements for Search -->
    <div id="search-container" class="btn-group">
      <input type="text" id="search-input" placeholder="search...">
      <button id="clear">clear</button>
      <ul id="results-container"></ul>
    </div>

    <!-- Script pointing to search-script.js -->
    <script src="/java-scripts/search-script.js" type="text/javascript"></script>

    <!-- Configuration -->
    <script>
      SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json'
      })
    </script>

    <!-- search clear -->
    <script>
      window.addEventListener('load', () => {
          const button = document.querySelector('#clear');
          button.addEventListener('click', () => {
              document.querySelector('#search-input').value = "";
              document.querySelector('#results-container').innerHTML = "";
          });
      }); 
  </script>
  </nav>
</div></div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
  <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
      <h1 class="post-title p-name" itemprop="name headline">Pagination With JPA In String Boot</h1>
      <p class="post-meta">
        <time class="dt-published" datetime="2021-04-03T00:00:00+07:00" itemprop="datePublished">Apr 3, 2021
        </time></p>
    </header>
  
    <div class="post-content e-content" itemprop="articleBody">
      <blockquote>
  <p>In this post we will learn how to use Spring Data JPA to handle pagination and sorting Data.</p>
</blockquote>

<h2 id="dependencies">DEPENDENCIES</h2>

<ul>
  <li>First, you need to add some dependencies below into your <code class="language-plaintext highlighter-rouge">pom.xml</code>. In this example I will use <code class="language-plaintext highlighter-rouge">mysql database</code>. You can choose other databases if you like, <a href="/database-posts/2021-08-07-database-with-springboot-configuration.html">this post</a> maybe is helpful for you.</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="nt">&lt;dependencies&gt;</span>

        <span class="c">&lt;!-- ....other dependencies... --&gt;</span>

        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-jpa<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>

        <span class="c">&lt;!-- ....other dependencies... --&gt;</span>

    <span class="nt">&lt;/dependencies&gt;</span>

</code></pre></div></div>

<h2 id="implementation">IMPLEMENTATION</h2>

<h3 id="entity-and-models">ENTITY AND MODELS</h3>

<ul>
  <li>First, you need to create an <code class="language-plaintext highlighter-rouge">Entity</code> which will reflect with the table in your database and It will be the object for manipulation information between JPA and Database. Below is my example <code class="language-plaintext highlighter-rouge">Entity</code></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kn">package</span> <span class="nn">com.application.adapter.models.entities</span><span class="o">;</span>

    <span class="kn">import</span> <span class="nn">javax.persistence.Column</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">javax.persistence.Entity</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">javax.persistence.Id</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">javax.persistence.Table</span><span class="o">;</span>

    <span class="nd">@Entity</span>
    <span class="nd">@Table</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Post"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">PostEntity</span> <span class="o">{</span>


        <span class="nd">@Id</span>
        <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"ID"</span><span class="o">,</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">36</span><span class="o">)</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">id</span><span class="o">;</span>

        <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"CREATED_DATE"</span><span class="o">,</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">50</span><span class="o">)</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">createdDate</span><span class="o">;</span>

        <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"LAST_MODIFIED_DATE"</span><span class="o">,</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">50</span><span class="o">)</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">lastModifiedDate</span><span class="o">;</span>

        <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"AUTHOR"</span><span class="o">,</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">100</span><span class="o">,</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">author</span><span class="o">;</span>

        <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"TITLE"</span><span class="o">,</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">title</span><span class="o">;</span>

        <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"CONTENT"</span><span class="o">,</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">content</span><span class="o">;</span>

        <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"SUMMARY"</span><span class="o">,</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">summary</span><span class="o">;</span>


        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="nc">String</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getCreatedDate</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">createdDate</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCreatedDate</span><span class="o">(</span><span class="nc">String</span> <span class="n">createdDate</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">createdDate</span> <span class="o">=</span> <span class="n">createdDate</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getLastModifiedDate</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">lastModifiedDate</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLastModifiedDate</span><span class="o">(</span><span class="nc">String</span> <span class="n">lastModifiedDate</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">lastModifiedDate</span> <span class="o">=</span> <span class="n">lastModifiedDate</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAuthor</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">author</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAuthor</span><span class="o">(</span><span class="nc">String</span> <span class="n">author</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">author</span> <span class="o">=</span> <span class="n">author</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getTitle</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">title</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTitle</span><span class="o">(</span><span class="nc">String</span> <span class="n">title</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getContent</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">content</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setContent</span><span class="o">(</span><span class="nc">String</span> <span class="n">content</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getSummary</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">summary</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSummary</span><span class="o">(</span><span class="nc">String</span> <span class="n">summary</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">summary</span> <span class="o">=</span> <span class="n">summary</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>Next, We will create a model for filter request which contains some information like <code class="language-plaintext highlighter-rouge">current page</code>,  <code class="language-plaintext highlighter-rouge">number of item in page</code>, <code class="language-plaintext highlighter-rouge">sort field</code> and <code class="language-plaintext highlighter-rouge">sort order</code>.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kn">package</span> <span class="nn">com.application.adapter.models.request</span><span class="o">;</span>


    <span class="kn">import</span> <span class="nn">javax.validation.constraints.NotNull</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Filter</span> <span class="o">{</span>

        <span class="c1">// current page</span>
        <span class="nd">@NotNull</span>
        <span class="kd">private</span> <span class="nc">Integer</span> <span class="n">page</span><span class="o">;</span>

        <span class="c1">// number of item in page</span>
        <span class="nd">@NotNull</span>
        <span class="kd">private</span> <span class="nc">Integer</span> <span class="n">pageSize</span><span class="o">;</span>

        <span class="c1">// sort field</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">sortField</span><span class="o">;</span>

        <span class="c1">//sort order</span>
        <span class="kd">private</span> <span class="nc">SortOrder</span> <span class="n">sortOrder</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">getPage</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">page</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPage</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">page</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">page</span> <span class="o">=</span> <span class="n">page</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">getPageSize</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">pageSize</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPageSize</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">pageSize</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">pageSize</span> <span class="o">=</span> <span class="n">pageSize</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getSortField</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">sortField</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSortField</span><span class="o">(</span><span class="nc">String</span> <span class="n">sortField</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">sortField</span> <span class="o">=</span> <span class="n">sortField</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">SortOrder</span> <span class="nf">getSortOrder</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">sortOrder</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSortOrder</span><span class="o">(</span><span class="nc">SortOrder</span> <span class="n">sortOrder</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">sortOrder</span> <span class="o">=</span> <span class="n">sortOrder</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>Then create a model for response result.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="kn">package</span> <span class="nn">com.application.adapter.models.response</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">PostResponse</span> <span class="o">{</span>

        <span class="kd">private</span> <span class="nc">String</span> <span class="n">id</span><span class="o">;</span>

        <span class="kd">private</span> <span class="nc">String</span> <span class="n">createdDate</span><span class="o">;</span>

        <span class="kd">private</span> <span class="nc">String</span> <span class="n">lastModifiedDate</span><span class="o">;</span>

        <span class="kd">private</span> <span class="nc">String</span> <span class="n">title</span><span class="o">;</span>

        <span class="kd">private</span> <span class="nc">String</span> <span class="n">summary</span><span class="o">;</span>

        <span class="kd">private</span> <span class="nc">String</span> <span class="n">author</span><span class="o">;</span>

        <span class="kd">private</span> <span class="nc">String</span> <span class="n">content</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="nc">String</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getCreatedDate</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">createdDate</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCreatedDate</span><span class="o">(</span><span class="nc">String</span> <span class="n">createdDate</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">createdDate</span> <span class="o">=</span> <span class="n">createdDate</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getLastModifiedDate</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">lastModifiedDate</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLastModifiedDate</span><span class="o">(</span><span class="nc">String</span> <span class="n">lastModifiedDate</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">lastModifiedDate</span> <span class="o">=</span> <span class="n">lastModifiedDate</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getTitle</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">title</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTitle</span><span class="o">(</span><span class="nc">String</span> <span class="n">title</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getSummary</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">summary</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSummary</span><span class="o">(</span><span class="nc">String</span> <span class="n">summary</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">summary</span> <span class="o">=</span> <span class="n">summary</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getAuthor</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">author</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAuthor</span><span class="o">(</span><span class="nc">String</span> <span class="n">author</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">author</span> <span class="o">=</span> <span class="n">author</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getContent</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">content</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setContent</span><span class="o">(</span><span class="nc">String</span> <span class="n">content</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

</code></pre></div></div>

<h3 id="respository">RESPOSITORY</h3>

<ul>
  <li>Now, you need to create a <code class="language-plaintext highlighter-rouge">Respository</code> which will be the layer to help you do queries and get results from your database, because we are using JPA for paging and sorting so we will extend our repository from <code class="language-plaintext highlighter-rouge">PagingAndSortingRepository</code> that JPA provided.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="kn">package</span> <span class="nn">com.application.adapter.repositories</span><span class="o">;</span>

    <span class="kn">import</span> <span class="nn">com.application.adapter.models.entities.PostEntity</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.data.repository.PagingAndSortingRepository</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

    <span class="nd">@Repository</span>
    <span class="kd">public</span> <span class="kd">interface</span> <span class="nc">PostPagingRepository</span> <span class="kd">extends</span> <span class="nc">PagingAndSortingRepository</span><span class="o">&lt;</span><span class="nc">PostEntity</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="o">}</span>

</code></pre></div></div>

<h3 id="service">SERVICE</h3>

<ul>
  <li>So now, you can create a <code class="language-plaintext highlighter-rouge">Service</code> and put some implementation code as below. Note that because we are extending our respository from <code class="language-plaintext highlighter-rouge">PagingAndSortingRepository</code> so we have to use <code class="language-plaintext highlighter-rouge">Pageable</code> and <code class="language-plaintext highlighter-rouge">Page</code> of JPA as the object for queries and response results from database, respectively.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="kn">package</span> <span class="nn">com.application.adapter.services</span><span class="o">;</span>

    <span class="kn">import</span> <span class="nn">com.application.adapter.models.entities.PostEntity</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.application.adapter.models.request.Filter</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.application.adapter.models.request.Post</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.application.adapter.models.response.PostResponse</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.application.adapter.repositories.PostPagingRepository</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.application.adapter.utilities.MapperUtil</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.apache.commons.lang.StringUtils</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Qualifier</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Value</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.data.domain.Page</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.data.domain.PageRequest</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.data.domain.Pageable</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.data.domain.Sort</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>

    <span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">java.util.stream.Collectors</span><span class="o">;</span>

    <span class="nd">@Service</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">TodoServiceImpl</span> <span class="kd">implements</span> <span class="nc">TodoService</span><span class="o">{</span>

        <span class="nd">@Autowired</span>
        <span class="kd">private</span> <span class="nc">PostPagingRepository</span> <span class="n">pagingRepository</span><span class="o">;</span>

        <span class="nd">@Value</span><span class="o">(</span><span class="s">"${post.page.defaultKey}"</span><span class="o">)</span>
        <span class="kd">private</span> <span class="nc">String</span> <span class="n">defaultSortField</span><span class="o">;</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">PostResponse</span><span class="o">&gt;</span> <span class="nf">filterPosts</span><span class="o">(</span><span class="nc">Filter</span> <span class="n">filter</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">Pageable</span> <span class="n">pageable</span><span class="o">;</span>
            <span class="k">if</span><span class="o">(</span><span class="nc">StringUtils</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">(</span><span class="n">filter</span><span class="o">.</span><span class="na">getSortField</span><span class="o">()))</span> <span class="o">{</span>
                <span class="n">pageable</span> <span class="o">=</span> <span class="nc">PageRequest</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">filter</span><span class="o">.</span><span class="na">getPage</span><span class="o">(),</span> <span class="n">filter</span><span class="o">.</span><span class="na">getPageSize</span><span class="o">(),</span> <span class="nc">Sort</span><span class="o">.</span><span class="na">by</span><span class="o">(</span><span class="n">defaultSortField</span><span class="o">).</span><span class="na">descending</span><span class="o">());</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span><span class="o">(!</span><span class="nc">StringUtils</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">(</span><span class="n">filter</span><span class="o">.</span><span class="na">getSortField</span><span class="o">())</span> <span class="o">&amp;&amp;</span> <span class="n">filter</span><span class="o">.</span><span class="na">getSortOrder</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">pageable</span> <span class="o">=</span> <span class="nc">PageRequest</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">filter</span><span class="o">.</span><span class="na">getPage</span><span class="o">(),</span> <span class="n">filter</span><span class="o">.</span><span class="na">getPageSize</span><span class="o">(),</span> <span class="nc">Sort</span><span class="o">.</span><span class="na">by</span><span class="o">(</span><span class="n">filter</span><span class="o">.</span><span class="na">getSortField</span><span class="o">()).</span><span class="na">descending</span><span class="o">());</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">pageable</span> <span class="o">=</span> <span class="nc">PageRequest</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">filter</span><span class="o">.</span><span class="na">getPage</span><span class="o">(),</span> <span class="n">filter</span><span class="o">.</span><span class="na">getPageSize</span><span class="o">(),</span><span class="nc">Sort</span>
                <span class="o">.</span><span class="na">by</span><span class="o">(</span><span class="nc">Sort</span><span class="o">.</span><span class="na">Direction</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">filter</span><span class="o">.</span><span class="na">getSortOrder</span><span class="o">().</span><span class="na">name</span><span class="o">()),</span> <span class="n">filter</span><span class="o">.</span><span class="na">getSortField</span><span class="o">()));</span>
            <span class="o">}</span>
            <span class="nc">Page</span><span class="o">&lt;</span><span class="nc">PostEntity</span><span class="o">&gt;</span> <span class="n">page</span> <span class="o">=</span> <span class="n">pagingRepository</span><span class="o">.</span><span class="na">findAll</span><span class="o">(</span><span class="n">pageable</span><span class="o">);</span>
            <span class="nc">List</span><span class="o">&lt;</span><span class="nc">PostEntity</span><span class="o">&gt;</span> <span class="n">entities</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="na">getContent</span><span class="o">();</span>

            <span class="c1">//after got entities, then map them to response model. </span>
            <span class="k">return</span> <span class="n">entities</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="n">e</span> <span class="o">-&gt;</span> <span class="nc">MapperUtil</span><span class="o">.</span><span class="na">mappingObject</span><span class="o">(</span><span class="n">e</span><span class="o">,</span> <span class="k">new</span> <span class="nc">PostResponse</span><span class="o">())).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

</code></pre></div></div>

<h3 id="controller">CONTROLLER</h3>

<ul>
  <li>Finally, let’s create a simple controller with an filter api and inject your service for using.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="kn">package</span> <span class="nn">com.application.adapter.controller</span><span class="o">;</span>

    <span class="kn">import</span> <span class="nn">com.application.adapter.models.request.Filter</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.application.adapter.models.request.Post</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.application.adapter.models.response.PostResponse</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.application.adapter.services.TodoService</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.lang.NonNull</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.lang.Nullable</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.*</span><span class="o">;</span>

    <span class="kn">import</span> <span class="nn">javax.validation.Valid</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">javax.validation.constraints.NotNull</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">javax.websocket.server.PathParam</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>


    <span class="nd">@Controller</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">ApiController</span> <span class="o">{</span>

        <span class="nd">@Autowired</span>
        <span class="kd">private</span> <span class="nc">TodoService</span> <span class="n">todoService</span><span class="o">;</span>

        <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">,</span> <span class="n">path</span> <span class="o">=</span> <span class="s">"blog/posts/filter"</span><span class="o">)</span>
        <span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">PostResponse</span><span class="o">&gt;&gt;</span> <span class="nf">filterPosts</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nd">@NotNull</span> <span class="nd">@Valid</span> <span class="nc">Filter</span> <span class="n">filter</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="n">todoService</span><span class="o">.</span><span class="na">filterPosts</span><span class="o">(</span><span class="n">filter</span><span class="o">),</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

</code></pre></div></div>

<h2 id="testing">TESTING</h2>

<ul>
  <li>Using postman and call to your api with filter body as below</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
    </span><span class="err">//Filter</span><span class="w"> </span><span class="err">body</span><span class="w"> </span><span class="err">request</span><span class="w">

    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sortField"</span><span class="p">:</span><span class="w"> </span><span class="s2">"createdDate"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sortOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DESC"</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
    </span><span class="err">//Response</span><span class="w"> </span><span class="err">body</span><span class="w">

    </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d182f776-615b-4d21-bd5e-3815c6b1e013"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-04-2021 18:56:22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastModifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-04-2021 18:56:22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How to master java"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"There are some tips to master java at home"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"minh duc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"There are some tips to master java at home"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01f196dd-db86-4faa-afc8-208f5ae97069"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-04-2021 18:56:21"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastModifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-04-2021 18:56:21"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How to master java"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"There are some tips to master java at home"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"minh duc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"There are some tips to master java at home"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3f89c7ff-d738-4caf-bc41-7d00ca09f6c5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-04-2021 18:56:19"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastModifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-04-2021 18:56:19"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How to master java"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"There are some tips to master java at home"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"minh duc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"There are some tips to master java at home"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b352cf2a-fc18-43de-aac0-9d5053a62d0c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-04-2021 18:55:59"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastModifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-04-2021 18:55:59"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"How to master java"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"There are some tips to master java at home"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"minh duc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"There are some tips to master java at home"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">

</span></code></pre></div></div>

<ul>
  <li>So, That’s all for this post, Good luck!</li>
</ul>

    </div><a class="u-url" href="/jekyll/update/2021/04/03/java-springboot-pagination-with-jpa.html" hidden></a>
  </article>
  
</div>


    </div>
  </div>
</body><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">StepByStep</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-4">
        <ul class="contact-list">
          <li class="p-name">StepByStep</li><li><a class="u-email" href="mailto:minhducnguyen189@gmail.com">minhducnguyen189@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-4"><ul class="social-media-list"><li><a href="https://github.com/minhducnguyen189"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">minhducnguyen189</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-4">
        <p>Hi there! Let&#39;s explore some general knowleadges and briefly definitions  in programming. I hope that this website can help people saving time in learning, also give some motivations for those who have choice the developer path.</p>
      </div>
    </div>

  </div>

</footer>
</html>